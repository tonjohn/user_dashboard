<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<title>Login</title>
	<meta name="description" content="Jon wanted nothing more. No, he had to tell himself, those days are gone. The realization twisted in his belly like a knife. They had chosen him to rule. The Wall was his, and their lives were his as well. A lord may love the men that he commands, he could hear his lord father saying, but he cannot be a friend to them. One day he may need to sit in judgement on them, or send them forth to die.">
	<link rel="icon"
		  type="image/png"
		  href="http://tonjohn.com/favicon.png">
	<!-- linking a css style sheet -->
	{% load staticfiles %}
	<!-- linking a css style sheet -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.8/semantic.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/semantic-ui/2.2.8/semantic.min.js"></script>

	<style type="text/css">
		body {
		  background-color: #DADADA;
		}
		body > .grid {
		  height: 100%;
		}
		.image {
		  margin-top: -100px;
		}
		.column {
		  max-width: 450px;
		}
  </style>
</head>
<body>
	<div class="ui middle aligned center aligned grid">
		<div class="column">
			<h2 class="ui teal image header">
				<img src="http://tonjohn.com/images/pokeburton.jpg" class="ui circular image">
				<div class="content">
					Log-in to your account
				</div>
			</h2>
			<form id="login "class="ui large form" action='{% url 'login:login' %}' method='post'>
				<div class="ui stacked segment">
					<div class="field">
						<div class="ui left icon input">
							<i class="user icon"></i>
							<input type="text" name="email" placeholder="E-mail address" value="{{request.session.email}}">
						</div>
					</div>
					<div class="field">
						<div class="ui left icon input">
							<i class="lock icon"></i>
							<input type="password" name="password" placeholder="Password">
						</div>
					</div>
					<div class="ui fluid large teal submit button">Login</div>
				</div>

				<div class="ui error message">
					{% if messages %}
						<ul class="list">
						{% for msg in messages %}
							<li class="{{msg.level_tag}}">{{msg.message}}</li>
						{% endfor %}
						</ul>
					{% endif %}
				</div>

			</form>

			<div class="ui message">
				New to us? <a href="{% url 'login:register' %}">Sign Up</a>
			</div>

		</div>
	</div>


	<script>
	  $(document)
		.ready(function() {
		  $('.ui.form')
			.form({
			  fields: {
				email: {
				  identifier  : 'email',
				  rules: [
					{
					  type   : 'empty',
					  prompt : 'Please enter your e-mail'
					},
					{
					  type   : 'email',
					  prompt : 'Please enter a valid e-mail'
					}
				  ]
				},
				password: {
				  identifier  : 'password',
				  rules: [
					{
					  type   : 'empty',
					  prompt : 'Please enter your password'
					},
					{
					  type   : 'length[6]',
					  prompt : 'Your password must be at least 6 characters'
					}
				  ]
				}
			  }
			})
		  ;
		})
	  ;
	</script>
</body>
</html>
